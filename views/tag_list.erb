<script type="text/javascript">
  <!--//
  function showToggle(name){
    my_style = $('#' + name + '_list')[0].style;
    if(my_style.display == "none"){
      my_style.display = "block";
    } else {
      my_style.display = "none";
    }
  }
  -->
</script>

<a href="/tag_style/post" class="btn btn-primary">Create new TagStyle</a>
<hr>
<table class='tag_list'>
  <% @tag_styles.each do |tag_style| %>
    <tr>
      <td>
        <span class="btn" style='background-color:<%= tag_style.color %>;cursor:default' onclick="showToggle('<%= tag_style.name %>');return false;">
          <%= tag_style.name %>
        </span>
      </td>
      <td>
        <a href="/tag/post?tag_style_id=<%= tag_style.id %>" class="btn btn-primary">Add tag to <%= tag_style.name %></a>
      </td>
      <td>
        <a href="/tag_style/post/<%= tag_style.id %>" class="btn btn-warning">Edit</a>
      </td>
      <td>
        <a href="/tag_style/delete/<%= tag_style.id %>" class="btn btn-danger", onClick="return confirm('destroy OK?');">Delete</a>
      </td>
    </tr>

    <tr>
      <td colspan=4>
        <ul id="<%= tag_style.name %>_list" class="list", style='display:none'>
          <% tag_style.tags.each do |tag| %>
            <li id="tag_<%= tag.id %>">
              <span>
                <%= tag.name %>
              </span>
              <span class="pull-right">
                <form action="/tag/delete/<%= tag.id %>" method="post">
                  <a href="/tag/post/<%= tag.id %>" class="btn btn-warning">Edit</a>
                  <input type="submit" class="btn btn-danger" value="Delete", onClick="return confirm('destroy OK?');">
                </form>
              </span>
            </li>
          <% end %>
        </ul>
      </td>
    </tr>
  <% end %>
</table>